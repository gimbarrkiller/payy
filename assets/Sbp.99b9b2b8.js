import{_ as ae}from"./angle-right_blue.3c01ebe8.js";import{ah as se,o as Zt,b as Xt,d as Wt,h as le,I as ce,j as ue,c as he,q as fe,s as de,u as ht,B as Nt,e as st,t as vt,v as ge,i as pe,ai as Ot,R as me,k as ve}from"./gpb-fns.1cc41912.js";import{_ as be}from"./FormHeader.277ef804.js";import{_ as ye}from"./plugin-vue_export-helper.21dcd24c.js";import{u as we}from"./usePaymentAvailability.299ea4fd.js";import"./useLoader.c46ce039.js";function kt(o){return o===""?o:o==="true"||o=="1"}function Ae(o,e){return new Promise((t,r)=>{var i=new XMLHttpRequest;i.responseType="blob",i.onload=function(){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsArrayBuffer(i.response)},i.open("GET",o),i.send()})}var rt=function(o,e){return Object.assign(document.createElement("canvas"),{width:o,height:e})},Yt={},ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.loop=ct.conditional=Qt=ct.parse=void 0;var Be=function o(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;if(Array.isArray(t))t.forEach(function(a){return o(e,a,r,i)});else if(typeof t=="function")t(e,r,i,o);else{var n=Object.keys(t)[0];Array.isArray(t[n])?(i[n]={},o(e,t[n],r,i[n])):i[n]=t[n](e,r,i,o)}return r},Qt=ct.parse=Be,Ce=function(e,t){return function(r,i,n,a){t(r,i,n)&&a(r,e,i,n)}};ct.conditional=Ce;var xe=function(e,t){return function(r,i,n,a){for(var c=[],l=r.pos;t(r,i,n);){var f={};if(a(r,e,i,f),r.pos===l)break;l=r.pos,c.push(f)}return c}};ct.loop=xe;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.readBits=Z.readArray=Z.readUnsigned=Z.readString=Z.peekBytes=Z.readBytes=Z.peekByte=Z.readByte=Vt=Z.buildStream=void 0;var ke=function(e){return{data:e,pos:0}},Vt=Z.buildStream=ke,Jt=function(){return function(e){return e.data[e.pos++]}};Z.readByte=Jt;var Ee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(t){return t.data[t.pos+e]}};Z.peekByte=Ee;var Bt=function(e){return function(t){return t.data.subarray(t.pos,t.pos+=e)}};Z.readBytes=Bt;var Pe=function(e){return function(t){return t.data.subarray(t.pos,t.pos+e)}};Z.peekBytes=Pe;var Se=function(e){return function(t){return Array.from(Bt(e)(t)).map(function(r){return String.fromCharCode(r)}).join("")}};Z.readString=Se;var Te=function(e){return function(t){var r=Bt(2)(t);return e?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};Z.readUnsigned=Te;var De=function(e,t){return function(r,i,n){for(var a=typeof t=="function"?t(r,i,n):t,c=Bt(e),l=new Array(a),f=0;f<a;f++)l[f]=c(r);return l}};Z.readArray=De;var Ie=function(e,t,r){for(var i=0,n=0;n<r;n++)i+=e[t+n]&&Math.pow(2,r-n-1);return i},Me=function(e){return function(t){for(var r=Jt()(t),i=new Array(8),n=0;n<8;n++)i[7-n]=!!(r&1<<n);return Object.keys(e).reduce(function(a,c){var l=e[c];return l.length?a[c]=Ie(i,l.index,l.length):a[c]=i[l.index],a},{})}};Z.readBits=Me;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=ct,t=Z,r={blocks:function(d){for(var x=0,S=[],M=d.data.length,z=0,p=(0,t.readByte)()(d);p!==x&&p;p=(0,t.readByte)()(d)){if(d.pos+p>=M){var u=M-d.pos;S.push((0,t.readBytes)(u)(d)),z+=u;break}S.push((0,t.readBytes)(p)(d)),z+=p}for(var B=new Uint8Array(z),h=0,w=0;w<S.length;w++)B.set(S[w],h),h+=S[w].length;return B}},i=(0,e.conditional)({gce:[{codes:(0,t.readBytes)(2)},{byteSize:(0,t.readByte)()},{extras:(0,t.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,t.readUnsigned)(!0)},{transparentColorIndex:(0,t.readByte)()},{terminator:(0,t.readByte)()}]},function(g){var d=(0,t.peekBytes)(2)(g);return d[0]===33&&d[1]===249}),n=(0,e.conditional)({image:[{code:(0,t.readByte)()},{descriptor:[{left:(0,t.readUnsigned)(!0)},{top:(0,t.readUnsigned)(!0)},{width:(0,t.readUnsigned)(!0)},{height:(0,t.readUnsigned)(!0)},{lct:(0,t.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,t.readArray)(3,function(g,d,x){return Math.pow(2,x.descriptor.lct.size+1)})},function(g,d,x){return x.descriptor.lct.exists}),{data:[{minCodeSize:(0,t.readByte)()},r]}]},function(g){return(0,t.peekByte)()(g)===44}),a=(0,e.conditional)({text:[{codes:(0,t.readBytes)(2)},{blockSize:(0,t.readByte)()},{preData:function(d,x,S){return(0,t.readBytes)(S.text.blockSize)(d)}},r]},function(g){var d=(0,t.peekBytes)(2)(g);return d[0]===33&&d[1]===1}),c=(0,e.conditional)({application:[{codes:(0,t.readBytes)(2)},{blockSize:(0,t.readByte)()},{id:function(d,x,S){return(0,t.readString)(S.blockSize)(d)}},r]},function(g){var d=(0,t.peekBytes)(2)(g);return d[0]===33&&d[1]===255}),l=(0,e.conditional)({comment:[{codes:(0,t.readBytes)(2)},r]},function(g){var d=(0,t.peekBytes)(2)(g);return d[0]===33&&d[1]===254}),f=[{header:[{signature:(0,t.readString)(3)},{version:(0,t.readString)(3)}]},{lsd:[{width:(0,t.readUnsigned)(!0)},{height:(0,t.readUnsigned)(!0)},{gct:(0,t.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,t.readByte)()},{pixelAspectRatio:(0,t.readByte)()}]},(0,e.conditional)({gct:(0,t.readArray)(3,function(g,d){return Math.pow(2,d.lsd.gct.size+1)})},function(g,d){return d.lsd.gct.exists}),{frames:(0,e.loop)([i,c,l,n,a],function(g){var d=(0,t.peekByte)()(g);return d===33||d===44})}],v=f;o.default=v})(Yt);var Le=se(Yt);const Ne=(o,e)=>{const t=new Array(o.length),r=o.length/e,i=function(v,g){const d=o.slice(g*e,(g+1)*e);t.splice.apply(t,[v*e,e].concat(d))},n=[0,4,2,1],a=[8,8,4,2];for(var c=0,l=0;l<4;l++)for(var f=n[l];f<r;f+=a[l])i(f,c),c++;return t},Oe=(o,e,t)=>{const n=t;var a,c,l,f,v,g,d,w,x,S,h,M,m,A,P,C;const z=new Array(t),p=new Array(4096),u=new Array(4096),B=new Array(4096+1);for(M=o,c=1<<M,v=c+1,a=c+2,d=-1,f=M+1,l=(1<<f)-1,x=0;x<c;x++)p[x]=0,u[x]=x;var h,w,m,A,C,P;for(h=w=m=A=C=P=0,S=0;S<n;){if(A===0){if(w<f){h+=e[P]<<w,w+=8,P++;continue}if(x=h&l,h>>=f,w-=f,x>a||x==v)break;if(x==c){f=M+1,l=(1<<f)-1,a=c+2,d=-1;continue}if(d==-1){B[A++]=u[x],d=x,m=x;continue}for(g=x,x==a&&(B[A++]=m,x=d);x>c;)B[A++]=u[x],x=p[x];m=u[x]&255,B[A++]=m,a<4096&&(p[a]=d,u[a]=m,a++,(a&l)===0&&a<4096&&(f++,l+=a)),d=g}A--,z[C++]=B[A],S++}for(S=C;S<n;S++)z[S]=0;return z},Fe=o=>{const e=new Uint8Array(o);return Qt(Vt(e),Le)},Re=o=>{const e=o.pixels.length,t=new Uint8ClampedArray(e*4);for(var r=0;r<e;r++){const i=r*4,n=o.pixels[r],a=o.colorTable[n];t[i]=a[0],t[i+1]=a[1],t[i+2]=a[2],t[i+3]=n!==o.transparentIndex?255:0}return t},_e=(o,e,t)=>{if(!o.image){console.warn("gif frame does not have associated image.");return}const{image:r}=o,i=r.descriptor.width*r.descriptor.height;var n=Oe(r.data.minCodeSize,r.data.blocks,i);r.descriptor.lct.interlaced&&(n=Ne(n,r.descriptor.width));const a={pixels:n,dims:{top:o.image.descriptor.top,left:o.image.descriptor.left,width:o.image.descriptor.width,height:o.image.descriptor.height}};return r.descriptor.lct&&r.descriptor.lct.exists?a.colorTable=r.lct:a.colorTable=e,o.gce&&(a.delay=(o.gce.delay||10)*10,a.disposalType=o.gce.extras.disposal,o.gce.extras.transparentColorGiven&&(a.transparentIndex=o.gce.transparentColorIndex)),t&&(a.patch=Re(a)),a},Ge=(o,e)=>o.frames.filter(t=>t.image).map(t=>_e(t,o.gct,e));function ze(o,e,t){const r=Kt(e),i=o-1;let n=0;switch(t){case Q.L:n=et[i][0];break;case Q.M:n=et[i][1];break;case Q.Q:n=et[i][2];break;case Q.H:n=et[i][3];break}return r<=n}function Ue(o,e){for(var t=1,r=Kt(o),i=0,n=et.length;i<n;i++){var a=0;switch(e){case Q.L:a=et[i][0];break;case Q.M:a=et[i][1];break;case Q.Q:a=et[i][2];break;case Q.H:a=et[i][3];break}if(r<=a)break;t++}if(t>et.length)throw new Error("Too long data");return t}function Kt(o){var e=encodeURI(o).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=Number(o)?3:0)}class He{constructor(e){this.mode=J.MODE_8BIT_BYTE,this.parsedData=[],this.data=e;const t=[];for(let r=0,i=this.data.length;r<i;r++){const n=[],a=this.data.charCodeAt(r);a>65536?(n[0]=240|(a&1835008)>>>18,n[1]=128|(a&258048)>>>12,n[2]=128|(a&4032)>>>6,n[3]=128|a&63):a>2048?(n[0]=224|(a&61440)>>>12,n[1]=128|(a&4032)>>>6,n[2]=128|a&63):a>128?(n[0]=192|(a&1984)>>>6,n[1]=128|a&63):n[0]=a,t.push(n)}this.parsedData=Array.prototype.concat.apply([],t),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(e){for(let t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}}class lt{constructor(e=-1,t=Q.L){this.moduleCount=0,this.dataList=[],this.typeNumber=e,this.errorCorrectLevel=t,this.moduleCount=0,this.dataList=[]}addData(e){if(this.typeNumber<=0)this.typeNumber=Ue(e,this.errorCorrectLevel);else{if(this.typeNumber>40)throw new Error(`Invalid QR version: ${this.typeNumber}`);if(!ze(this.typeNumber,e,this.errorCorrectLevel))throw new Error(`Data is too long for QR version: ${this.typeNumber}`)}const t=new He(e);this.dataList.push(t),this.dataCache=void 0}isDark(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(`${e},${t}`);return this.modules[e][t]}getModuleCount(){return this.moduleCount}make(){this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(let i=0;i<this.moduleCount;i++)this.modules[r][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=lt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)}setupPositionProbePattern(e,t){for(let r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(let i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(0<=r&&r<=6&&(i==0||i==6)||0<=i&&i<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=i&&i<=4?this.modules[e+r][t+i]=!0:this.modules[e+r][t+i]=!1)}getBestMaskPattern(){if(Number.isInteger(this.maskPattern)&&Object.values(it).includes(this.maskPattern))return this.maskPattern;let e=0,t=0;for(let r=0;r<8;r++){this.makeImpl(!0,r);const i=L.getLostPoint(this);(r==0||e>i)&&(e=i,t=r)}return t}setupTimingPattern(){for(let e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(let e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)}setupPositionAdjustPattern(){const e=L.getPatternPosition(this.typeNumber);for(let t=0;t<e.length;t++)for(let r=0;r<e.length;r++){const i=e[t],n=e[r];if(this.modules[i][n]==null)for(let a=-2;a<=2;a++)for(let c=-2;c<=2;c++)a==-2||a==2||c==-2||c==2||a==0&&c==0?this.modules[i+a][n+c]=!0:this.modules[i+a][n+c]=!1}}setupTypeNumber(e){const t=L.getBCHTypeNumber(this.typeNumber);for(var r=0;r<18;r++){var i=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=i}for(var r=0;r<18;r++){var i=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=i}}setupTypeInfo(e,t){const r=this.errorCorrectLevel<<3|t,i=L.getBCHTypeInfo(r);for(var n=0;n<15;n++){var a=!e&&(i>>n&1)==1;n<6?this.modules[n][8]=a:n<8?this.modules[n+1][8]=a:this.modules[this.moduleCount-15+n][8]=a}for(var n=0;n<15;n++){var a=!e&&(i>>n&1)==1;n<8?this.modules[8][this.moduleCount-n-1]=a:n<9?this.modules[8][15-n-1+1]=a:this.modules[8][15-n-1]=a}this.modules[this.moduleCount-8][8]=!e}mapData(e,t){let r=-1,i=this.moduleCount-1,n=7,a=0;for(let c=this.moduleCount-1;c>0;c-=2)for(c==6&&c--;;){for(let l=0;l<2;l++)if(this.modules[i][c-l]==null){let f=!1;a<e.length&&(f=(e[a]>>>n&1)==1),L.getMask(t,i,c-l)&&(f=!f),this.modules[i][c-l]=f,n--,n==-1&&(a++,n=7)}if(i+=r,i<0||this.moduleCount<=i){i-=r,r=-r;break}}}static createData(e,t,r){const i=nt.getRSBlocks(e,t),n=new je;for(var a=0;a<r.length;a++){const l=r[a];n.put(l.mode,4),n.put(l.getLength(),L.getLengthInBits(l.mode,e)),l.write(n)}let c=0;for(var a=0;a<i.length;a++)c+=i[a].dataCount;if(n.getLengthInBits()>c*8)throw new Error(`code length overflow. (${n.getLengthInBits()}>${c*8})`);for(n.getLengthInBits()+4<=c*8&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=c*8||(n.put(lt.PAD0,8),n.getLengthInBits()>=c*8));)n.put(lt.PAD1,8);return lt.createBytes(n,i)}static createBytes(e,t){let r=0,i=0,n=0;const a=new Array(t.length),c=new Array(t.length);for(var l=0;l<t.length;l++){const x=t[l].dataCount,S=t[l].totalCount-x;i=Math.max(i,x),n=Math.max(n,S),a[l]=new Array(x);for(var f=0;f<a[l].length;f++)a[l][f]=255&e.buffer[f+r];r+=x;const M=L.getErrorCorrectPolynomial(S),p=new dt(a[l],M.getLength()-1).mod(M);c[l]=new Array(M.getLength()-1);for(var f=0;f<c[l].length;f++){const B=f+p.getLength()-c[l].length;c[l][f]=B>=0?p.get(B):0}}let v=0;for(var f=0;f<t.length;f++)v+=t[f].totalCount;const g=new Array(v);let d=0;for(var f=0;f<i;f++)for(var l=0;l<t.length;l++)f<a[l].length&&(g[d++]=a[l][f]);for(var f=0;f<n;f++)for(var l=0;l<t.length;l++)f<c[l].length&&(g[d++]=c[l][f]);return g}}lt.PAD0=236;lt.PAD1=17;const Q={L:1,M:0,Q:3,H:2},J={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},it={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};class L{static getBCHTypeInfo(e){let t=e<<10;for(;L.getBCHDigit(t)-L.getBCHDigit(L.G15)>=0;)t^=L.G15<<L.getBCHDigit(t)-L.getBCHDigit(L.G15);return(e<<10|t)^L.G15_MASK}static getBCHTypeNumber(e){let t=e<<12;for(;L.getBCHDigit(t)-L.getBCHDigit(L.G18)>=0;)t^=L.G18<<L.getBCHDigit(t)-L.getBCHDigit(L.G18);return e<<12|t}static getBCHDigit(e){let t=0;for(;e!=0;)t++,e>>>=1;return t}static getPatternPosition(e){return L.PATTERN_POSITION_TABLE[e-1]}static getMask(e,t,r){switch(e){case it.PATTERN000:return(t+r)%2==0;case it.PATTERN001:return t%2==0;case it.PATTERN010:return r%3==0;case it.PATTERN011:return(t+r)%3==0;case it.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case it.PATTERN101:return t*r%2+t*r%3==0;case it.PATTERN110:return(t*r%2+t*r%3)%2==0;case it.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error(`bad maskPattern:${e}`)}}static getErrorCorrectPolynomial(e){let t=new dt([1],0);for(let r=0;r<e;r++)t=t.multiply(new dt([1,H.gexp(r)],0));return t}static getLengthInBits(e,t){if(1<=t&&t<10)switch(e){case J.MODE_NUMBER:return 10;case J.MODE_ALPHA_NUM:return 9;case J.MODE_8BIT_BYTE:return 8;case J.MODE_KANJI:return 8;default:throw new Error(`mode:${e}`)}else if(t<27)switch(e){case J.MODE_NUMBER:return 12;case J.MODE_ALPHA_NUM:return 11;case J.MODE_8BIT_BYTE:return 16;case J.MODE_KANJI:return 10;default:throw new Error(`mode:${e}`)}else if(t<41)switch(e){case J.MODE_NUMBER:return 14;case J.MODE_ALPHA_NUM:return 13;case J.MODE_8BIT_BYTE:return 16;case J.MODE_KANJI:return 12;default:throw new Error(`mode:${e}`)}else throw new Error(`type:${t}`)}static getLostPoint(e){const t=e.getModuleCount();let r=0;for(var i=0;i<t;i++)for(var n=0;n<t;n++){let l=0;const f=e.isDark(i,n);for(let v=-1;v<=1;v++)if(!(i+v<0||t<=i+v))for(let g=-1;g<=1;g++)n+g<0||t<=n+g||v==0&&g==0||f==e.isDark(i+v,n+g)&&l++;l>5&&(r+=3+l-5)}for(var i=0;i<t-1;i++)for(var n=0;n<t-1;n++){let v=0;e.isDark(i,n)&&v++,e.isDark(i+1,n)&&v++,e.isDark(i,n+1)&&v++,e.isDark(i+1,n+1)&&v++,(v==0||v==4)&&(r+=3)}for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(i,n)&&!e.isDark(i,n+1)&&e.isDark(i,n+2)&&e.isDark(i,n+3)&&e.isDark(i,n+4)&&!e.isDark(i,n+5)&&e.isDark(i,n+6)&&(r+=40);for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(i,n)&&!e.isDark(i+1,n)&&e.isDark(i+2,n)&&e.isDark(i+3,n)&&e.isDark(i+4,n)&&!e.isDark(i+5,n)&&e.isDark(i+6,n)&&(r+=40);let a=0;for(var n=0;n<t;n++)for(var i=0;i<t;i++)e.isDark(i,n)&&a++;return r+=Math.abs(100*a/t/t-50)/5*10,r}}L.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]];L.G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0;L.G18=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0;L.G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1;class H{static glog(e){if(e<1)throw new Error(`glog(${e})`);return H.LOG_TABLE[e]}static gexp(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return H.EXP_TABLE[e]}}H.EXP_TABLE=new Array(256);H.LOG_TABLE=new Array(256);H._constructor=function(){for(var o=0;o<8;o++)H.EXP_TABLE[o]=1<<o;for(var o=8;o<256;o++)H.EXP_TABLE[o]=H.EXP_TABLE[o-4]^H.EXP_TABLE[o-5]^H.EXP_TABLE[o-6]^H.EXP_TABLE[o-8];for(var o=0;o<255;o++)H.LOG_TABLE[H.EXP_TABLE[o]]=o}();class dt{constructor(e,t){if(e.length==null)throw new Error(`${e.length}/${t}`);let r=0;for(;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(let i=0;i<e.length-r;i++)this.num[i]=e[i+r]}get(e){return this.num[e]}getLength(){return this.num.length}multiply(e){const t=new Array(this.getLength()+e.getLength()-1);for(let r=0;r<this.getLength();r++)for(let i=0;i<e.getLength();i++)t[r+i]^=H.gexp(H.glog(this.get(r))+H.glog(e.get(i)));return new dt(t,0)}mod(e){if(this.getLength()-e.getLength()<0)return this;const t=H.glog(this.get(0))-H.glog(e.get(0)),r=new Array(this.getLength());for(var i=0;i<this.getLength();i++)r[i]=this.get(i);for(var i=0;i<e.getLength();i++)r[i]^=H.gexp(H.glog(e.get(i))+t);return new dt(r,0).mod(e)}}class nt{constructor(e,t){this.totalCount=e,this.dataCount=t}static getRSBlocks(e,t){const r=nt.getRsBlockTable(e,t);if(r==null)throw new Error(`bad rs block @ typeNumber:${e}/errorCorrectLevel:${t}`);const i=r.length/3,n=[];for(let a=0;a<i;a++){const c=r[a*3+0],l=r[a*3+1],f=r[a*3+2];for(let v=0;v<c;v++)n.push(new nt(l,f))}return n}static getRsBlockTable(e,t){switch(t){case Q.L:return nt.RS_BLOCK_TABLE[(e-1)*4+0];case Q.M:return nt.RS_BLOCK_TABLE[(e-1)*4+1];case Q.Q:return nt.RS_BLOCK_TABLE[(e-1)*4+2];case Q.H:return nt.RS_BLOCK_TABLE[(e-1)*4+3];default:return}}}nt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];class je{constructor(){this.buffer=[],this.length=0}get(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1}put(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)}getLengthInBits(){return this.length}putBit(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}}const et=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var Ze=100,W=256,Ft=W-1,at=4,qt=16,Pt=1<<qt,$t=10,St=10,Xe=Pt>>St,We=Pt<<$t-St,Ye=W>>3,Et=6,Qe=1<<Et,Ve=Ye*Qe,Je=30,te=10,bt=1<<te,ee=8,Rt=1<<ee,Ke=te+ee,ft=1<<Ke,_t=499,Gt=491,zt=487,re=503,qe=3*re;function $e(o,e){var t,r,i,n,a;function c(){t=[],r=new Int32Array(256),i=new Int32Array(W),n=new Int32Array(W),a=new Int32Array(W>>3);var p,u;for(p=0;p<W;p++)u=(p<<at+8)/W,t[p]=new Float64Array([u,u,u,0]),n[p]=Pt/W,i[p]=0}function l(){for(var p=0;p<W;p++)t[p][0]>>=at,t[p][1]>>=at,t[p][2]>>=at,t[p][3]=p}function f(p,u,B,h,w){t[u][0]-=p*(t[u][0]-B)/bt,t[u][1]-=p*(t[u][1]-h)/bt,t[u][2]-=p*(t[u][2]-w)/bt}function v(p,u,B,h,w){for(var m=Math.abs(u-p),A=Math.min(u+p,W),C=u+1,P=u-1,N=1,s,O;C<A||P>m;)O=a[N++],C<A&&(s=t[C++],s[0]-=O*(s[0]-B)/ft,s[1]-=O*(s[1]-h)/ft,s[2]-=O*(s[2]-w)/ft),P>m&&(s=t[P--],s[0]-=O*(s[0]-B)/ft,s[1]-=O*(s[1]-h)/ft,s[2]-=O*(s[2]-w)/ft)}function g(p,u,B){var h=2147483647,w=h,m=-1,A=m,C,P,N,s,O;for(C=0;C<W;C++)P=t[C],N=Math.abs(P[0]-p)+Math.abs(P[1]-u)+Math.abs(P[2]-B),N<h&&(h=N,m=C),s=N-(i[C]>>qt-at),s<w&&(w=s,A=C),O=n[C]>>St,n[C]-=O,i[C]+=O<<$t;return n[m]+=Xe,i[m]-=We,A}function d(){var p,u,B,h,w,m,A=0,C=0;for(p=0;p<W;p++){for(B=t[p],w=p,m=B[1],u=p+1;u<W;u++)h=t[u],h[1]<m&&(w=u,m=h[1]);if(h=t[w],p!=w&&(u=h[0],h[0]=B[0],B[0]=u,u=h[1],h[1]=B[1],B[1]=u,u=h[2],h[2]=B[2],B[2]=u,u=h[3],h[3]=B[3],B[3]=u),m!=A){for(r[A]=C+p>>1,u=A+1;u<m;u++)r[u]=p;A=m,C=p}}for(r[A]=C+Ft>>1,u=A+1;u<256;u++)r[u]=Ft}function x(p,u,B){for(var h,w,m,A=1e3,C=-1,P=r[u],N=P-1;P<W||N>=0;)P<W&&(w=t[P],m=w[1]-u,m>=A?P=W:(P++,m<0&&(m=-m),h=w[0]-p,h<0&&(h=-h),m+=h,m<A&&(h=w[2]-B,h<0&&(h=-h),m+=h,m<A&&(A=m,C=w[3])))),N>=0&&(w=t[N],m=u-w[1],m>=A?N=-1:(N--,m<0&&(m=-m),h=w[0]-p,h<0&&(h=-h),m+=h,m<A&&(h=w[2]-B,h<0&&(h=-h),m+=h,m<A&&(A=m,C=w[3]))));return C}function S(){var p,u=o.length,B=30+(e-1)/3,h=u/(3*e),w=~~(h/Ze),m=bt,A=Ve,C=A>>Et;for(C<=1&&(C=0),p=0;p<C;p++)a[p]=m*((C*C-p*p)*Rt/(C*C));var P;u<qe?(e=1,P=3):u%_t!==0?P=3*_t:u%Gt!==0?P=3*Gt:u%zt!==0?P=3*zt:P=3*re;var N,s,O,y,F=0;for(p=0;p<h;)if(N=(o[F]&255)<<at,s=(o[F+1]&255)<<at,O=(o[F+2]&255)<<at,y=g(N,s,O),f(m,y,N,s,O),C!==0&&v(C,y,N,s,O),F+=P,F>=u&&(F-=u),p++,w===0&&(w=1),p%w===0)for(m-=m/B,A-=A/Je,C=A>>Et,C<=1&&(C=0),y=0;y<C;y++)a[y]=m*((C*C-y*y)*Rt/(C*C))}function M(){c(),S(),l(),d()}this.buildColormap=M;function z(){for(var p=[],u=[],B=0;B<W;B++)u[t[B][3]]=B;for(var h=0,w=0;w<W;w++){var m=u[w];p[h++]=t[m][0],p[h++]=t[m][1],p[h++]=t[m][2]}return p}this.getColormap=z,this.lookupRGB=x}var Ut=-1,yt=12,pt=5003,tr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function er(o,e,t,r){var i=Math.max(2,r),n=new Uint8Array(256),a=new Int32Array(pt),c=new Int32Array(pt),l,f=0,v,g=0,d,x=!1,S,M,z,p,u,B;function h(y,F){n[v++]=y,v>=254&&P(F)}function w(y){m(pt),g=M+2,x=!0,O(M,y)}function m(y){for(var F=0;F<y;++F)a[F]=-1}function A(y,F){var b,ut,U,q,ot,j,$;for(S=y,x=!1,B=S,d=N(B),M=1<<y-1,z=M+1,g=M+2,v=0,q=s(),$=0,b=pt;b<65536;b*=2)++$;$=8-$,j=pt,m(j),O(M,F);t:for(;(ut=s())!=Ut;){if(b=(ut<<yt)+q,U=ut<<$^q,a[U]===b){q=c[U];continue}else if(a[U]>=0){ot=j-U,U===0&&(ot=1);do if((U-=ot)<0&&(U+=j),a[U]===b){q=c[U];continue t}while(a[U]>=0)}O(q,F),q=ut,g<1<<yt?(c[U]=g++,a[U]=b):w(F)}O(q,F),O(z,F)}function C(y){y.writeByte(i),p=o*e,u=0,A(i+1,y),y.writeByte(0)}function P(y){v>0&&(y.writeByte(v),y.writeBytes(n,0,v),v=0)}function N(y){return(1<<y)-1}function s(){if(p===0)return Ut;--p;var y=t[u++];return y&255}function O(y,F){for(l&=tr[f],f>0?l|=y<<f:l=y,f+=B;f>=8;)h(l&255,F),l>>=8,f-=8;if((g>d||x)&&(x?(d=N(B=S),x=!1):(++B,B==yt?d=1<<yt:d=N(B))),y==z){for(;f>0;)h(l&255,F),l>>=8,f-=8;P(F)}}this.encode=C}function V(){this.page=-1,this.pages=[],this.newPage()}V.pageSize=4096;V.charMap={};for(var wt=0;wt<256;wt++)V.charMap[wt]=String.fromCharCode(wt);V.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(V.pageSize),this.cursor=0};V.prototype.getData=function(){for(var o="",e=0;e<this.pages.length;e++)for(var t=0;t<V.pageSize;t++)o+=V.charMap[this.pages[e][t]];return o};V.prototype.toFlattenUint8Array=function(){const o=[];for(var e=0;e<this.pages.length;e++)if(e===this.pages.length-1){const r=Uint8Array.from(this.pages[e].slice(0,this.cursor));o.push(r)}else o.push(this.pages[e]);const t=new Uint8Array(o.reduce((r,i)=>r+i.length,0));return o.reduce((r,i)=>(t.set(i,r),r+i.length),0),t};V.prototype.writeByte=function(o){this.cursor>=V.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=o};V.prototype.writeUTFBytes=function(o){for(var e=o.length,t=0;t<e;t++)this.writeByte(o.charCodeAt(t))};V.prototype.writeBytes=function(o,e,t){for(var r=t||o.length,i=e||0;i<r;i++)this.writeByte(o[i])};function R(o,e){this.width=~~o,this.height=~~e,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new V}R.prototype.setDelay=function(o){this.delay=Math.round(o/10)};R.prototype.setFrameRate=function(o){this.delay=Math.round(100/o)};R.prototype.setDispose=function(o){o>=0&&(this.dispose=o)};R.prototype.setRepeat=function(o){this.repeat=o};R.prototype.setTransparent=function(o){this.transparent=o};R.prototype.addFrame=function(o){this.image=o,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),this.globalPalette===!0&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeHeader(),this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),!this.firstFrame&&!this.globalPalette&&this.writePalette(),this.writePixels(),this.firstFrame=!1};R.prototype.finish=function(){this.out.writeByte(59)};R.prototype.setQuality=function(o){o<1&&(o=1),this.sample=o};R.prototype.setDither=function(o){o===!0&&(o="FloydSteinberg"),this.dither=o};R.prototype.setGlobalPalette=function(o){this.globalPalette=o};R.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};R.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};R.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new $e(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent,!0))};R.prototype.indexPixels=function(o){var e=this.pixels.length/3;this.indexedPixels=new Uint8Array(e);for(var t=0,r=0;r<e;r++){var i=this.findClosestRGB(this.pixels[t++]&255,this.pixels[t++]&255,this.pixels[t++]&255);this.usedEntry[i]=!0,this.indexedPixels[r]=i}};R.prototype.ditherPixels=function(o,e){var t={FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]]};if(!o||!t[o])throw"Unknown dithering kernel: "+o;var r=t[o],i=0,n=this.height,a=this.width,c=this.pixels,l=e?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var f=0;f<n;f++){e&&(l=l*-1);for(var v=l==1?0:a-1,g=l==1?a:0;v!==g;v+=l){i=f*a+v;var d=i*3,x=c[d],S=c[d+1],M=c[d+2];d=this.findClosestRGB(x,S,M),this.usedEntry[d]=!0,this.indexedPixels[i]=d,d*=3;for(var z=this.colorTab[d],p=this.colorTab[d+1],u=this.colorTab[d+2],B=x-z,h=S-p,w=M-u,m=l==1?0:r.length-1,A=l==1?r.length:0;m!==A;m+=l){var C=r[m][1],P=r[m][2];if(C+v>=0&&C+v<a&&P+f>=0&&P+f<n){var N=r[m][0];d=i+C+P*a,d*=3,c[d]=Math.max(0,Math.min(255,c[d]+B*N)),c[d+1]=Math.max(0,Math.min(255,c[d+1]+h*N)),c[d+2]=Math.max(0,Math.min(255,c[d+2]+w*N))}}}}};R.prototype.findClosest=function(o,e){return this.findClosestRGB((o&16711680)>>16,(o&65280)>>8,o&255,e)};R.prototype.findClosestRGB=function(o,e,t,r){if(this.colorTab===null)return-1;if(this.neuQuant&&!r)return this.neuQuant.lookupRGB(o,e,t);for(var i=0,n=256*256*256,a=this.colorTab.length,c=0,l=0;c<a;l++){var f=o-(this.colorTab[c++]&255),v=e-(this.colorTab[c++]&255),g=t-(this.colorTab[c++]&255),d=f*f+v*v+g*g;(!r||this.usedEntry[l])&&d<n&&(n=d,i=l)}return i};R.prototype.getImagePixels=function(){var o=this.width,e=this.height;this.pixels=new Uint8Array(o*e*3);for(var t=this.image,r=0,i=0,n=0;n<e;n++)for(var a=0;a<o;a++)this.pixels[i++]=t[r++],this.pixels[i++]=t[r++],this.pixels[i++]=t[r++],r++};R.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var o,e;this.transparent===null?(o=0,e=0):(o=1,e=2),this.dispose>=0&&(e=this.dispose&7),e<<=2,this.out.writeByte(0|e|0|o),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)};R.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)};R.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)};R.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)};R.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var o=3*256-this.colorTab.length,e=0;e<o;e++)this.out.writeByte(0)};R.prototype.writeShort=function(o){this.out.writeByte(o&255),this.out.writeByte(o>>8&255)};R.prototype.writePixels=function(){var o=new er(this.width,this.height,this.indexedPixels,this.colorDepth);o.encode(this.out)};R.prototype.stream=function(){return this.out};var rr=globalThis&&globalThis.__awaiter||function(o,e,t,r){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function c(v){try{f(r.next(v))}catch(g){a(g)}}function l(v){try{f(r.throw(v))}catch(g){a(g)}}function f(v){v.done?n(v.value):i(v.value).then(c,l)}f((r=r.apply(o,e||[])).next())})};const At=.4;function Ht(o){if(!o)return;function e(t){t.onload=null,t.onerror=null}return new Promise(function(t,r){if(o.slice(0,4)=="data"){let n=new Image;n.onload=function(){t(n),e(n)},n.onerror=function(){r("Image load error"),e(n)},n.src=o;return}let i=new Image;i.setAttribute("crossOrigin","Anonymous"),i.onload=function(){t(i)},i.onerror=function(){r("Image load error")},i.src=o})}class I{constructor(e){const t=Object.assign({},e);if(Object.keys(I.defaultOptions).forEach(r=>{r in t||Object.defineProperty(t,r,{value:I.defaultOptions[r],enumerable:!0,writable:!0})}),t.components?typeof t.components=="object"&&Object.keys(I.defaultComponentOptions).forEach(r=>{r in t.components?Object.defineProperty(t.components,r,{value:Object.assign(Object.assign({},I.defaultComponentOptions[r]),t.components[r]),enumerable:!0,writable:!0}):Object.defineProperty(t.components,r,{value:I.defaultComponentOptions[r],enumerable:!0,writable:!0})}):t.components=I.defaultComponentOptions,t.dotScale!==null&&t.dotScale!==void 0){if(t.dotScale<=0||t.dotScale>1)throw new Error("dotScale should be in range (0, 1].");t.components.data.scale=t.dotScale,t.components.timing.scale=t.dotScale,t.components.alignment.scale=t.dotScale}this.options=t,this.canvas=rt(e.size,e.size),this.canvasContext=this.canvas.getContext("2d"),this.qrCode=new lt(-1,this.options.correctLevel),Number.isInteger(this.options.maskPattern)&&(this.qrCode.maskPattern=this.options.maskPattern),Number.isInteger(this.options.version)&&(this.qrCode.typeNumber=this.options.version),this.qrCode.addData(this.options.text),this.qrCode.make()}draw(){return new Promise(e=>this._draw().then(e))}_clear(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}static _prepareRoundedCornerClip(e,t,r,i,n,a){e.beginPath(),e.moveTo(t,r),e.arcTo(t+i,r,t+i,r+n,a),e.arcTo(t+i,r+n,t,r+n,a),e.arcTo(t,r+n,t,r,a),e.arcTo(t,r,t+i,r,a),e.closePath()}static _getAverageRGB(e){const r={r:0,g:0,b:0};let i,n,a=-4;const c={r:0,g:0,b:0};let l=0;n=e.naturalHeight||e.height,i=e.naturalWidth||e.width;const v=rt(i,n).getContext("2d");if(!v)return r;v.drawImage(e,0,0);let g;try{g=v.getImageData(0,0,i,n)}catch{return r}for(;(a+=5*4)<g.data.length;)g.data[a]>200||g.data[a+1]>200||g.data[a+2]>200||(++l,c.r+=g.data[a],c.g+=g.data[a+1],c.b+=g.data[a+2]);return c.r=~~(c.r/l),c.g=~~(c.g/l),c.b=~~(c.b/l),c}static _drawDot(e,t,r,i,n=0,a=1){e.fillRect((t+n)*i,(r+n)*i,a*i,a*i)}static _drawAlignProtector(e,t,r,i){e.clearRect((t-2)*i,(r-2)*i,5*i,5*i),e.fillRect((t-2)*i,(r-2)*i,5*i,5*i)}static _drawAlign(e,t,r,i,n=0,a=1,c,l){const f=e.fillStyle;e.fillStyle=c,new Array(4).fill(0).map((v,g)=>{I._drawDot(e,t-2+g,r-2,i,n,a),I._drawDot(e,t+2,r-2+g,i,n,a),I._drawDot(e,t+2-g,r+2,i,n,a),I._drawDot(e,t-2,r+2-g,i,n,a)}),I._drawDot(e,t,r,i,n,a),l||(e.fillStyle="rgba(255, 255, 255, 0.6)",new Array(2).fill(0).map((v,g)=>{I._drawDot(e,t-1+g,r-1,i,n,a),I._drawDot(e,t+1,r-1+g,i,n,a),I._drawDot(e,t+1-g,r+1,i,n,a),I._drawDot(e,t-1,r+1-g,i,n,a)})),e.fillStyle=f}_draw(){var e,t,r,i,n,a,c,l,f,v,g,d,x,S,M,z,p,u,B;return rr(this,void 0,void 0,function*(){const h=(e=this.qrCode)===null||e===void 0?void 0:e.moduleCount,w=this.options.size;let m=this.options.margin;(m<0||m*2>=w)&&(m=0);const A=Math.ceil(m),C=w-2*m,P=this.options.whiteMargin,N=this.options.backgroundDimming,s=Math.ceil(C/h),O=s*h,y=O+2*A,F=rt(y,y),b=F.getContext("2d");this._clear(),b.save(),b.translate(A,A);const ut=rt(y,y),U=ut.getContext("2d");let q=null,ot=[];if(this.options.gifBackground){const k=Fe(this.options.gifBackground);if(q=k,ot=Ge(k,!0),this.options.autoColor){let E=0,D=0,T=0,X=0;for(let _=0;_<ot[0].colorTable.length;_++){const G=ot[0].colorTable[_];G[0]>200||G[1]>200||G[2]>200||G[0]===0&&G[1]===0&&G[2]===0||(X++,E+=G[0],D+=G[1],T+=G[2])}E=~~(E/X),D=~~(D/X),T=~~(T/X),this.options.colorDark=`rgb(${E},${D},${T})`}}else if(this.options.backgroundImage){const k=yield Ht(this.options.backgroundImage);if(this.options.autoColor){const E=I._getAverageRGB(k);this.options.colorDark=`rgb(${E.r},${E.g},${E.b})`}U.drawImage(k,0,0,k.width,k.height,0,0,y,y),U.rect(0,0,y,y),U.fillStyle=N,U.fill()}else U.rect(0,0,y,y),U.fillStyle=this.options.colorLight,U.fill();const j=L.getPatternPosition(this.qrCode.typeNumber),$=((r=(t=this.options.components)===null||t===void 0?void 0:t.data)===null||r===void 0?void 0:r.scale)||At,Tt=(1-$)*.5;for(let k=0;k<h;k++)for(let E=0;E<h;E++){const D=this.qrCode.isDark(k,E),T=E<8&&(k<8||k>=h-8)||E>=h-8&&k<8,X=k==6&&E>=8&&E<=h-8||E==6&&k>=8&&k<=h-8;let _=T||X;for(let Y=1;Y<j.length-1;Y++)_=_||k>=j[Y]-2&&k<=j[Y]+2&&E>=j[Y]-2&&E<=j[Y]+2;const G=E*s+(_?0:Tt*s),tt=k*s+(_?0:Tt*s);if(b.strokeStyle=D?this.options.colorDark:this.options.colorLight,b.lineWidth=.5,b.fillStyle=D?this.options.colorDark:this.options.colorLight,j.length===0)_||b.fillRect(G,tt,(_?1:$)*s,(_?1:$)*s);else{const Y=E<h-4&&E>=h-4-5&&k<h-4&&k>=h-4-5;!_&&!Y&&b.fillRect(G,tt,(_?1:$)*s,(_?1:$)*s)}}const K=j[j.length-1],ie=this.options.colorLight;if(b.fillStyle=ie,b.fillRect(0,0,8*s,8*s),b.fillRect(0,(h-8)*s,8*s,8*s),b.fillRect((h-8)*s,0,8*s,8*s),!((n=(i=this.options.components)===null||i===void 0?void 0:i.timing)===null||n===void 0)&&n.protectors&&(b.fillRect(8*s,6*s,(h-8-8)*s,s),b.fillRect(6*s,8*s,s,(h-8-8)*s)),!((c=(a=this.options.components)===null||a===void 0?void 0:a.cornerAlignment)===null||c===void 0)&&c.protectors&&I._drawAlignProtector(b,K,K,s),!((f=(l=this.options.components)===null||l===void 0?void 0:l.alignment)===null||f===void 0)&&f.protectors)for(let k=0;k<j.length;k++)for(let E=0;E<j.length;E++){const D=j[E],T=j[k];if(!(D===6&&(T===6||T===K))){if(T===6&&(D===6||D===K))continue;if(D===K&&T===K)continue;I._drawAlignProtector(b,D,T,s)}}b.fillStyle=this.options.colorDark,b.fillRect(0,0,7*s,s),b.fillRect((h-7)*s,0,7*s,s),b.fillRect(0,6*s,7*s,s),b.fillRect((h-7)*s,6*s,7*s,s),b.fillRect(0,(h-7)*s,7*s,s),b.fillRect(0,(h-7+6)*s,7*s,s),b.fillRect(0,0,s,7*s),b.fillRect(6*s,0,s,7*s),b.fillRect((h-7)*s,0,s,7*s),b.fillRect((h-7+6)*s,0,s,7*s),b.fillRect(0,(h-7)*s,s,7*s),b.fillRect(6*s,(h-7)*s,s,7*s),b.fillRect(2*s,2*s,3*s,3*s),b.fillRect((h-7+2)*s,2*s,3*s,3*s),b.fillRect(2*s,(h-7+2)*s,3*s,3*s);const Ct=((g=(v=this.options.components)===null||v===void 0?void 0:v.timing)===null||g===void 0?void 0:g.scale)||At,Dt=(1-Ct)*.5;for(let k=0;k<h-8;k+=2)I._drawDot(b,8+k,6,s,Dt,Ct),I._drawDot(b,6,8+k,s,Dt,Ct);const It=((x=(d=this.options.components)===null||d===void 0?void 0:d.cornerAlignment)===null||x===void 0?void 0:x.scale)||At,ne=(1-It)*.5;I._drawAlign(b,K,K,s,ne,It,this.options.colorDark,((M=(S=this.options.components)===null||S===void 0?void 0:S.cornerAlignment)===null||M===void 0?void 0:M.protectors)||!1);const Mt=((p=(z=this.options.components)===null||z===void 0?void 0:z.alignment)===null||p===void 0?void 0:p.scale)||At,oe=(1-Mt)*.5;for(let k=0;k<j.length;k++)for(let E=0;E<j.length;E++){const D=j[E],T=j[k];if(!(D===6&&(T===6||T===K))){if(T===6&&(D===6||D===K))continue;if(D===K&&T===K)continue;I._drawAlign(b,D,T,s,oe,Mt,this.options.colorDark,((B=(u=this.options.components)===null||u===void 0?void 0:u.alignment)===null||B===void 0?void 0:B.protectors)||!1)}}if(P&&(b.fillStyle=this.options.backgroundColor,b.fillRect(-A,-A,y,A),b.fillRect(-A,O,y,A),b.fillRect(O,-A,A,y),b.fillRect(-A,-A,A,y)),this.options.logoImage){const k=yield Ht(this.options.logoImage);let E=this.options.logoScale,D=this.options.logoMargin,T=this.options.logoCornerRadius;(E<=0||E>=1)&&(E=.2),D<0&&(D=0),T<0&&(T=0);const X=O*E,_=.5*(y-X),G=_;b.restore(),b.fillStyle=this.options.logoBackgroundColor,b.save(),I._prepareRoundedCornerClip(b,_-D,G-D,X+2*D,X+2*D,T+D),b.clip();const tt=b.globalCompositeOperation;b.globalCompositeOperation="destination-out",b.fill(),b.globalCompositeOperation=tt,b.restore(),b.save(),I._prepareRoundedCornerClip(b,_,G,X,X,T),b.clip(),b.drawImage(k,_,G,X,X),b.restore(),b.save(),b.translate(A,A)}if(q){let k,E,D,T,X,_;if(ot.forEach(function(G){k||(k=new R(w,w),k.setDelay(G.delay),k.setRepeat(0));const{width:tt,height:Y}=G.dims;E||(E=rt(tt,Y),D=E.getContext("2d"),D.rect(0,0,E.width,E.height),D.fillStyle="#ffffff",D.fill()),(!T||!_||tt!==T.width||Y!==T.height)&&(T=rt(tt,Y),X=T.getContext("2d"),_=X.createImageData(tt,Y)),_.data.set(G.patch),X.putImageData(_,0,0),D.drawImage(T,G.dims.left,G.dims.top);const mt=rt(y,y),gt=mt.getContext("2d");gt.drawImage(E,0,0,y,y),gt.rect(0,0,y,y),gt.fillStyle=N,gt.fill(),gt.drawImage(F,0,0,y,y);const xt=rt(w,w),Lt=xt.getContext("2d");Lt.drawImage(mt,0,0,w,w),k.addFrame(Lt.getImageData(0,0,xt.width,xt.height).data)}),!k)throw new Error("No frames.");if(k.finish(),jt(this.canvas)){const tt=k.stream().toFlattenUint8Array().reduce((Y,mt)=>Y+String.fromCharCode(mt),"");return Promise.resolve(`data:image/gif;base64,${window.btoa(tt)}`)}return Promise.resolve(Buffer.from(k.stream().toFlattenUint8Array()))}else{U.drawImage(F,0,0,y,y),b.drawImage(ut,-A,-A,y,y);const k=rt(w,w);return k.getContext("2d").drawImage(F,0,0,w,w),this.canvas=k,jt(this.canvas)?Promise.resolve(this.canvas.toDataURL()):Promise.resolve(this.canvas.toBuffer())}})}}I.CorrectLevel=Q;I.defaultComponentOptions={data:{scale:.4},timing:{scale:.5,protectors:!1},alignment:{scale:.5,protectors:!1},cornerAlignment:{scale:.5,protectors:!0}};I.defaultOptions={text:"",size:400,margin:20,colorDark:"#000000",colorLight:"rgba(255, 255, 255, 0.6)",correctLevel:Q.M,backgroundImage:void 0,backgroundDimming:"rgba(0,0,0,0)",logoImage:void 0,logoScale:.2,logoMargin:4,logoCornerRadius:8,whiteMargin:!0,components:I.defaultComponentOptions,autoColor:!0,logoBackgroundColor:"#ffffff",backgroundColor:"#ffffff"};function jt(o){try{return o instanceof HTMLElement}catch{return typeof o=="object"&&o.nodeType===1&&typeof o.style=="object"&&typeof o.ownerDocument=="object"}}const ir={props:{text:{type:String,required:!0},qid:{type:String},correctLevel:{type:Number,default:1},size:{type:Number,default:200},margin:{type:Number,default:20},colorDark:{type:String,default:"#000000"},colorLight:{type:String,default:"#FFFFFF"},bgSrc:{type:String,default:void 0},background:{type:String,default:"rgba(0,0,0,0)"},backgroundDimming:{type:String,default:"rgba(0,0,0,0)"},logoSrc:{type:String,default:void 0},logoBackgroundColor:{type:String,default:"rgba(255,255,255,1)"},gifBgSrc:{type:String,default:void 0},logoScale:{type:Number,default:.2},logoMargin:{type:Number,default:0},logoCornerRadius:{type:Number,default:8},whiteMargin:{type:[Boolean,String],default:!0},dotScale:{type:Number,default:1},autoColor:{type:[Boolean,String],default:!0},binarize:{type:[Boolean,String],default:!1},binarizeThreshold:{type:Number,default:128},callback:{type:Function,default:function(){}},bindElement:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},components:{default:function(){return{data:{scale:1},timing:{scale:1,protectors:!1},alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0}}}}},name:"vue-qr",data(){return{imgUrl:""}},watch:{$props:{deep:!0,handler(){this.main()}}},mounted(){this.main()},methods:{async main(){if(this.gifBgSrc){const t=await Ae(this.gifBgSrc),r=this.logoSrc;this.render(void 0,r,t);return}const o=this.bgSrc,e=this.logoSrc;this.render(o,e)},async render(o,e,t){const r=this;new I({gifBackground:t,text:r.text,size:r.size,margin:r.margin,colorDark:r.colorDark,colorLight:r.colorLight,backgroundColor:r.backgroundColor,backgroundImage:o,backgroundDimming:r.backgroundDimming,logoImage:e,logoScale:r.logoScale,logoBackgroundColor:r.logoBackgroundColor,correctLevel:r.correctLevel,logoMargin:r.logoMargin,logoCornerRadius:r.logoCornerRadius,whiteMargin:kt(r.whiteMargin),dotScale:r.dotScale,autoColor:kt(r.autoColor),binarize:kt(r.binarize),binarizeThreshold:r.binarizeThreshold,components:r.components}).draw().then(i=>{this.imgUrl=i,r.callback&&r.callback(i,r.qid)})}}},nr=["src"];function or(o,e,t,r,i,n){return t.bindElement?(Zt(),Xt("img",{key:0,style:{display:"inline-block"},src:i.imgUrl},null,8,nr)):Wt("",!0)}var ar=ye(ir,[["render",or]]),sr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAvCAYAAACPMrhmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUFGMDQ5Q0QwMjhFMTFFREE2QkNFREU2MzBDNTQ2NjYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUFGMDQ5Q0MwMjhFMTFFREE2QkNFREU2MzBDNTQ2NjYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODg1NTYxMzRFQzc5MTFFQkEzQjdFQTcwMDYwODU2NzUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODg1NTYxMzVFQzc5MTFFQkEzQjdFQTcwMDYwODU2NzUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5AyDKUAAAKIElEQVR42sRZCXRU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";const lr={key:0,class:"content-wrapper sbp"},cr={class:"sbp-qrCode-container"},ur=["href"],hr={class:"sbpTips"},fr={class:"sbpSubTips"},dr={class:"sbp-check-result-container"},gr=st("img",{class:"angle-right",src:ae,alt:"angle-right"},null,-1),Ar={setup(o){const{checkPaymentState:e,paymentState:t,requestPaymentState:r}=le(),{accept:i,decline:n}=ve(),{qrCodeSize:a}=window.settings,{globalLoaderHide:c,globalLoaderShow:l}=pe(),{apiErrorHandlerOn:f,apiErrorHandlerOff:v}=ce(),g=ue(),d=he(()=>{var u,B;return(u=g.params)!=null&&u.payment?JSON.parse(g.params.payment):(B=t.value)==null?void 0:B.payment}),x=a||Ot.SIZE_256;function S(u){screen.width>Ot.SIZE_679&&u.preventDefault()}async function M(){l();const u=g.hash.slice(1);t.value=await i(u,{}),await e(t.value,u)}async function z(){l();const u=g.hash.slice(1);t.value=await n(u),await e(t.value,u)}const p=async u=>{u.error===me.UNEXPECTED_REQUEST&&await r(t)};return fe(async()=>{c(),f(p),await we(t)}),de(()=>{v()}),(u,B)=>ht(d)?(Zt(),Xt("div",lr,[Nt(be,{data:ht(t)},null,8,["data"]),st("div",cr,[st("a",{href:ht(d).options.sbpPayload,onClick:S},[Nt(ar,{"logo-src":ht(sr),"logo-scale":2,"logo-corner-radius":0,"dot-scale":1,margin:0,text:ht(d).options.sbpPayload,size:ht(x),"color-dark":"#1B1636","color-light":"#ffffff"},null,8,["logo-src","text","size"])],8,ur),st("div",hr,vt(u.$t("pages.sbp.sbpSubtitle")),1),st("div",fr,vt(u.$t("pages.sbp.pressQr")),1),st("button",{class:"btn btn-cancel",onClick:z},vt(u.$t("ui.btn.cancel")),1)]),st("div",dr,[st("button",{id:"submitBtn",class:"btn check-result",onClick:M},[ge(vt(u.$t("ui.btn.checkResult"))+" ",1),gr])])])):Wt("",!0)}};export{Ar as default};
