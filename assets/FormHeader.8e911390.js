var q=Object.defineProperty;var R=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var V=(r,s,e)=>s in r?q(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e,A=(r,s)=>{for(var e in s||(s={}))w.call(s,e)&&V(r,e,s[e]);if(R)for(var e of R(s))B.call(s,e)&&V(r,e,s[e]);return r};import{_ as O}from"./Dialog.55d98c8a.js";import{c as _,r as Y,w as $,o as p,a as G,u as m,n as P,Q as H,R as j,U as c,M as z,h as F,P as W,d as g,i as t,t as o,F as y,f as M}from"./gpb-new.9481ec94.js";var Ps="assets/cvc.661e728c.svg";const Cs={props:{errors:{type:Object,default:{}},minCvcLength:{type:Number}},setup(r){const s=r,e=_(()=>({required:!0,cvc:[{minCvcLength:s.minCvcLength}]}));return(d,u)=>{const i=Y("maska");return $((p(),G(O,{name:"cvc",rules:m(e),type:"tel",label:d.$t("ui.input.cvc.label"),class:P({invalid:s.errors.cvc})},null,8,["rules","label","class"])),[[i,"###"]])}}};function xs(r={}){const s=H(),e=j({pan:"",cvc:"",expiryMonth:"",expiryYear:"",expiry:"",holder:"",save:!1}),d=_(()=>c.parse(e.pan).length>=13&&c.luhn(c.parse(e.pan))),u=_(()=>!!(e.pan&&c.parse(e.pan).length>=7)),i=_(()=>z(e.pan,r,Object.values(r))),l=a=>{if(a.expiryMonth&&a.expiryYear)return`${a.expiryMonth}${a.expiryYear}`;{const n="/",h=a.expiry.indexOf(n),v=a.expiry.slice(0,2),f=a.expiry.slice(h+1).trim();return`${v}${f}`}};return{card:e,brandsList:i,isValidPan:d,isPanEnoughLength:u,getSrcCardParams:a=>{const n={"src.type":"card","src.pan":c.parse(a.pan),"src.expiry":l(a),"src.csc":a.cvc};return a.holder&&(n["src.cardholder"]=a.holder),a.save&&(n["src.addToProfile"]=!0),a.preauthorize&&(n.preauthorize=!0),n},getCardParams:a=>{const n={type:"card",pan:c.parse(a.pan),expiry:l(a),csc:a.cvc,returnUrl:window.location.href};return A(A({},n),s)},getDstCardParams:a=>({"dst.type":"card","dst.pan":c.parse(a)})}}var bs="assets/Default.9aa84ae2.svg",As="assets/VISA.786ac9f9.svg",Ms="assets/MASTERCARD.27a2766c.svg",Ns="assets/MAESTRO.e09ca352.svg",Es="assets/MIR.e7fab51b.svg",Ds="assets/UPI.7bbe388e.svg",Q="assets/angle-down.81fc3546.svg";const J={class:"merchant-info__purchase"},K={class:"merchant-info__purchase-amount"},X={class:"purchase-amount"},Z={class:"merchant-info__url"},ss={class:"url"},as={key:0,class:"url-prefix"},es=["href"],ts={key:0,class:"merchant-info__commission"},rs={class:"merchant-info__commission-amount"},ns={class:"commission-amount"},os={class:"commission-amount-description"},cs={class:"merchant-info__commission-full-amount"},is={class:"commission-full-amount"},ls={class:"commission-full-amount-description"},ms={class:"merchant-info__desc-container"},ds={class:"merchant-info__desc"},us={class:"title"},ps={class:"description"},_s={key:0},hs=["src"],Is={props:{data:Object},setup(r){var u,i;const s=r,e=F((i=(u=s.data)==null?void 0:u.descriptionParams)==null?void 0:i.acquirerCommission),d=_(()=>!s.data.paymentId||s.data.paymentId===W.TRANSP_DEBT);return(l,C)=>{var x,b,a,n,h,v,f,N,E,D,I,T,k,L,S,U;return p(),g("div",{class:P(["merchant",{visible:e.value}])},[t("div",J,[t("div",K,[t("span",X,o(m(y).formatCurrency((x=s.data)==null?void 0:x.amount,(b=s.data)==null?void 0:b.currency)),1)]),t("div",Z,[t("div",ss,[m(d)?(p(),g("span",as,o(l.$t("pages.merchantUrlPrefix")),1)):M("",!0),t("a",{href:(n=(a=s.data)==null?void 0:a.merchant)==null?void 0:n.url,class:"link",target:"_blank"},o(m(y).urlToStringWithoutProtocol((v=(h=s.data)==null?void 0:h.merchant)==null?void 0:v.url)),9,es)]),t("img",{class:P(["angle-down",{open:e.value}]),src:Q,onClick:C[0]||(C[0]=vs=>e.value=!e.value)},null,2)])]),t("div",{class:P(["merchant-info__detail",{visible:e.value}])},[(f=s.data.descriptionParams)!=null&&f.acquirerCommission?(p(),g("div",ts,[t("div",rs,[t("span",ns,o(m(y).formatCurrency(s.data.descriptionParams.acquirerCommission,(N=s.data)==null?void 0:N.currency)),1),t("span",os,o(l.$t("pages.main.commission.commission")),1)]),t("div",cs,[t("span",is,o(m(y).formatCurrency(s.data.descriptionParams.amountWithAcquirerCommission,(E=s.data)==null?void 0:E.currency)),1),t("span",ls,o(l.$t("pages.main.commission.fullAmount")),1)])])):M("",!0),t("div",ms,[t("div",ds,[t("div",us,o((I=(D=s.data)==null?void 0:D.merchant)==null?void 0:I.name),1),t("div",ps,o((T=s.data)==null?void 0:T.description),1)]),(L=(k=s.data)==null?void 0:k.merchant)!=null&&L.logoUrl?(p(),g("div",_s,[t("img",{class:"merchant-info__logo",src:(U=(S=s.data)==null?void 0:S.merchant)==null?void 0:U.logoUrl,alt:"Logo-bank"},null,8,hs)])):M("",!0)])],2)],2)}}};export{bs as D,Es as M,Ds as U,As as V,Is as _,Cs as a,Ps as b,Ms as c,Ns as d,xs as u};
